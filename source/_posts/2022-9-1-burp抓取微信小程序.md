---
title: burp抓取微信小程序
author: jh2ng
cover: 'http://image.jh2ing.com/image-20220901191414070.png'
tags:
  - 环境搭建
categories:
  - 网络安全
abbrlink: 22530
date: 2022-09-01 19:10:00
---



前期准备：

- 夜神模拟器
- burp
- JustTrustMe插件

插件下载地址：

> https://github.com/Fuzion24/JustTrustMe/releases

### 1、Xposed+JustTrustMe安装

安装好夜神模拟器之后，启用Android5

![image-20220901182043477](http://image.jh2ing.com/image-20220901182043477.png)

打开模拟器之后进入应用商店下载Xposed框架

![image-20220901182158431](http://image.jh2ing.com/image-20220901182158431.png)

进入Xposed，选择推荐安装，然后重启模拟器，这里我已经安装完成。这里主要root授权选择永久授权

![image-20220901182326587](http://image.jh2ing.com/image-20220901182326587.png)

然后把下载好的JustTrustMe拖入模拟器，模拟器会自动识别安装，安装完成之后会提示你未使用该模块，进入Xposed里勾选使用该模块，然后重启一下模拟器

![image-20220901182700053](http://image.jh2ing.com/image-20220901182700053.png)

### 2、burp抓包配置

打开burp配置监听端口，ip地址选择当前使用的网卡ip地址

![image-20220901183206779](http://image.jh2ing.com/image-20220901183206779.png)

模拟器进入设置VLAN选项，长按即可出现修改网络的选项

![image-20220901183409943](http://image.jh2ing.com/image-20220901183409943.png)

选择高级选择手动配置代理，然后填入burp配置的ip和端口

![image-20220901183518976](http://image.jh2ing.com/image-20220901183518976.png)

给https协议安装证书，这里我在电脑上使用浏览器打开burp网址，下载CA证书，然后更改后缀名为`cer`，原来的为`der`。最终文件名：`cacert.cer`

直接拖进模拟器

![image-20220901183722726](http://image.jh2ing.com/image-20220901183722726.png)

模拟器会自动打开存放目录，记住这个目录位置

![image-20220901184200780](http://image.jh2ing.com/image-20220901184200780.png)

导入证书，进入设置->安全->从SD卡安装证书

![image-20220901184316715](http://image.jh2ing.com/image-20220901184316715.png)

选择刚才的Pictures目录，选择证书

![image-20220901184402911](http://image.jh2ing.com/image-20220901184402911.png)

然后自己命名选择确定即可安装成功

![image-20220901184507353](http://image.jh2ing.com/image-20220901184507353.png)

测试可以在burp得到微信小程序数据包

![image-20220901191217824](http://image.jh2ing.com/image-20220901191217824.png)
